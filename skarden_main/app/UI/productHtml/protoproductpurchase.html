<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link rel="icon" href="/skarden_main/app/UI/icon/png/prim1.1nbg.png" />
    <title>Product Purchase Page</title>
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css"
      rel="stylesheet"
    />
    <link
      rel="stylesheet"
      href="/skarden_main/app/UI/productCss/protoproductpurchase.css"
    />
    <link
      rel="stylesheet"
      href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.10.0/font/bootstrap-icons.css"
    />
  </head>

  <body>
    <div class="container">
      <div class="product-container">
        <div class="row">
          <!-- PDImg -->
          <div class="col-lg-6 mb-4 mb-lg-0">
            <div id="image" class="product-image-container">
              <span class="product-label label-new">Baru</span>
              <span class="product-label label-bestseller">Best Seller</span>
              <img id="main-product-image" src="" alt="" class="main-image" />
            </div>

            <div class="thumbnail-container">
              <img
                id="gambar-bawah"
                src=""
                alt="Product Thumbnail"
                class="thumbnail active"
                onclick="changeImage(this)"
              />
              <img
                id="gambar-bawah2"
                src=""
                alt="Product Thumbnail"
                class="thumbnail active"
                onclick="changeImage(this)"
              />
              <img
                id="gambar-bawah3"
                src=""
                alt="Product Thumbnail"
                class="thumbnail active"
                onclick="changeImage(this)"
              />
              <img
                id="gambar-bawah4"
                src=""
                alt="Product Thumbnail"
                class="thumbnail active"
                onclick="changeImage(this)"
              />
            </div>
          </div>

          <!-- PDInfo -->
          <div class="col-lg-6">
            <h1 id="title" class="product-title"></h1>
            <p id="description" class="product-short-description"></p>

            <div class="product-price-container">
              <span id="price" class="product-price"></span>
              <span id="diskon" class="product-original-price"></span>
              <span class="discount-badge">Diskon 50%</span>
            </div>

            <div class="rating-container">
              <div class="rating-stars">
                <i class="bi bi-star-fill"></i>
                <i class="bi bi-star-fill"></i>
                <i class="bi bi-star-fill"></i>
                <i class="bi bi-star-fill"></i>
                <i class="bi bi-star-half"></i>
              </div>
              <span class="rating-value">4.5</span>
              <span class="rating-count">(3 review)</span>
            </div>

            <div class="stock-info">
              <i class="bi bi-check-circle-fill stock-in"></i>
              <span class="stock-in">Stok Tersedia - 155 unit</span>
            </div>

            <div class="quantity-container">
              <span>Quantity:</span>
              <button class="quantity-btn" onclick="decreaseQuantity()">
                <i class="bi bi-dash"></i>
              </button>
              <input
                type="number"
                class="form-control quantity-input"
                id="quantity"
                value="1"
                min="1"
                max="155"
              />
              <button class="quantity-btn" onclick="increaseQuantity()">
                <i class="bi bi-plus"></i>
              </button>
            </div>

            <div class="action-buttons">
              <button class="btn btn-buy-now" onclick="buyNow()">
                Beli Sekarang
              </button>
              <button class="btn btn-add-to-cart" onclick="addToCart()">
                Tambah ke Keranjang
              </button>
              <button
                class="btn btn-wishlist"
                id="wishlist-btn"
                onclick="toggleWishlist()"
              >
                <i class="bi bi-heart"></i>
              </button>
            </div>

            <div class="tabs-container">
              <ul class="nav nav-tabs" id="productTabs" role="tablist">
                <li class="nav-item" role="presentation">
                  <button
                    class="nav-link active"
                    id="specs-tab"
                    data-bs-toggle="tab"
                    data-bs-target="#specs"
                    type="button"
                    role="tab"
                  >
                    Details
                  </button>
                </li>
                <li class="nav-item" role="presentation">
                  <button
                    class="nav-link"
                    id="reviews-tab"
                    data-bs-toggle="tab"
                    data-bs-target="#reviews"
                    type="button"
                    role="tab"
                  >
                    Review
                  </button>
                </li>
                <li class="nav-item" role="presentation">
                  <button
                    class="nav-link"
                    id="qa-tab"
                    data-bs-toggle="tab"
                    data-bs-target="#qa"
                    type="button"
                    role="tab"
                  >
                    Q&A
                  </button>
                </li>
              </ul>

              <div class="tab-content" id="productTabsContent">
                <!-- Specs/detail -->
                <div
                  class="tab-pane fade show active"
                  id="specs"
                  role="tabpanel"
                >
                  <table class="specs-table">
                    <tr>
                      <td>Nama Produk</td>
                      <td id="detail-title"></td>
                    </tr>
                    <tr>
                      <td>Jenis</td>
                      <td id="jenis"></td>
                    </tr>
                    <tr>
                      <td>Lokasi</td>
                      <td>Bandung, Jawa Barat</td>
                    </tr>
                    <tr>
                      <td>Berat</td>
                      <td id="berat"></td>
                    </tr>
                    <tr>
                      <td>Kondisi</td>
                      <td id="kondisi"></td>
                    </tr>
                    <tr>
                      <td>Manfaat</td>
                      <td id="manfaat"></td>
                    </tr>
                    <tr>
                      <td>Penyimpanan</td>
                      <td id="penyimpanan"></td>
                    </tr>
                    <tr>
                      <td>Kemasan</td>
                      <td>Plastik food-grade ramah lingkungan</td>
                    </tr>
                    <tr>
                      <td>Garansi</td>
                      <td>Pengembalian 100% jika tidak segar saat diterima</td>
                    </tr>
                  </table>
                </div>

                <!-- Reviews -->
                <div class="tab-pane fade" id="reviews" role="tabpanel">
                  <div class="review-item">
                    <div class="review-header">
                      <span id="name1" class="reviewer-name">Dewi Lestari</span>
                      <span class="review-date">5 Juli 2025</span>
                    </div>
                    <div class="review-rating">
                      <i class="bi bi-star-fill"></i>
                      <i class="bi bi-star-fill"></i>
                      <i class="bi bi-star-fill"></i>
                      <i class="bi bi-star-fill"></i>
                      <i class="bi bi-star-fill"></i>
                    </div>
                    <p id="review1" class="review-text"></p>
                  </div>

                  <div class="review-item">
                    <div class="review-header">
                      <span id="name2" class="reviewer-name"
                        >Andi Prasetyo</span
                      >
                      <span class="review-date">1 Juli 2025</span>
                    </div>
                    <div class="review-rating">
                      <i class="bi bi-star-fill"></i>
                      <i class="bi bi-star-fill"></i>
                      <i class="bi bi-star-fill"></i>
                      <i class="bi bi-star-fill"></i>
                      <i class="bi bi-star"></i>
                    </div>
                    <p id="review2" class="review-text"></p>
                  </div>

                  <div class="review-item">
                    <div class="review-header">
                      <span id="name3" class="reviewer-name">Lina Kartika</span>
                      <span class="review-date">27 Juni 2025</span>
                    </div>
                    <div class="review-rating">
                      <i class="bi bi-star-fill"></i>
                      <i class="bi bi-star-fill"></i>
                      <i class="bi bi-star-fill"></i>
                      <i class="bi bi-star-fill"></i>
                      <i class="bi bi-star-half"></i>
                    </div>
                    <p id="review3" class="review-text"></p>
                  </div>
                </div>

                <!-- Q&A -->
                <div class="tab-pane fade" id="qa" role="tabpanel">
                  <div class="qa-item">
                    <div id="quest1" class="question">
                    </div>
                    <div id="answer1" class="answer"></div>
                  </div>

                  <div class="qa-item">
                    <div id="quest2" class="question"></div>
                    <div id="answer2" class="answer"></div>
                  </div>

                  <div class="qa-item">
                    <div id="quest3" class="question"></div>
                    <div id="answer3" class="answer"></div>
                  </div>

                  <div class="qa-item">
                    <div id="quest4" class="question"></div>
                    <div id="answer4" class="answer"></div>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>

    <div class="mobile-purchase-bar">
      <div class="mobile-purchase-content">
        <div class="mobile-product-info">
          <div class="mobile-product-title">Brokoli</div>
          <div class="mobile-product-price">Rp.10.500</div>
        </div>
        <div class="mobile-purchase-buttons">
          <button class="mobile-btn-buy-now" onclick="buyNow()">
            Beli sekarang
          </button>
          <button class="mobile-btn-add-to-cart" onclick="addToCart()">
            Tambah ke keranjang
          </button>
        </div>
      </div>
    </div>

    <!-- Floating Bubble Button Menu -->
    <div class="bubble-menu">
      <div class="bubble-items" id="bubble-items">
        <button class="bubble-item" onclick="openCart()">
          <i class="bi bi-cart3"></i>
          <span class="cart-badge">0</span>
          <span class="bubble-tooltip">Keranjang</span>
        </button>
        <button class="bubble-item" onclick="openShare()">
          <i class="bi bi-share"></i>
          <span class="bubble-tooltip">Bagikan</span>
        </button>
        <button class="bubble-item" onclick="goBack()">
          <i class="bi bi-arrow-left"></i>
          <span class="bubble-tooltip">Kembali</span>
        </button>
        <button class="bubble-item" onclick="openSearch()">
          <i class="bi bi-search"></i>
          <span class="bubble-tooltip">Search</span>
        </button>
      </div>
      <button
        class="bubble-toggle"
        id="bubble-toggle"
        onclick="toggleBubbleMenu()"
      >
        <i class="bi bi-list"></i>
      </button>
    </div>

    <!-- Search Modal -->
    <div class="search-modal" id="search-modal">
      <div class="search-modal-content">
        <div class="search-modal-header">
          <h3 class="search-modal-title">Cari produk</h3>
          <button class="search-modal-close" onclick="closeSearch()">
            <i class="bi bi-x-lg"></i>
          </button>
        </div>
        <form class="search-form" onsubmit="performSearch(event)">
          <input
            type="text"
            class="form-control search-input"
            placeholder="Temukan produk..."
            id="search-input"
            required
          />
          <button type="submit" class="search-submit">Cari</button>
        </form>
      </div>
    </div>

    <!-- Share Modal -->
    <div class="share-modal" id="share-modal">
      <div class="share-modal-content">
        <div class="share-modal-header">
          <h3 class="share-modal-title">Bagikan produk ke...</h3>
          <button class="share-modal-close" onclick="closeShare()">
            <i class="bi bi-x-lg"></i>
          </button>
        </div>
        <div class="share-options">
          <button
            class="share-option share-facebook"
            onclick="shareOnFacebook()"
          >
            <i class="bi bi-facebook"></i>
          </button>
          <button class="share-option share-twitter" onclick="shareOnTwitter()">
            <i class="bi bi-twitter"></i>
          </button>
          <button
            class="share-option share-whatsapp"
            onclick="shareOnWhatsApp()"
          >
            <i class="bi bi-whatsapp"></i>
          </button>
          <button class="share-option share-link" onclick="copyLink()">
            <i class="bi bi-link-45deg"></i>
          </button>
        </div>
        <div class="share-link-input">
          <input
            type="text"
            class="form-control share-link-field"
            id="share-link"
            value="https://example.com/product/premium-wireless-headphones"
            readonly
          />
          <button class="copy-link-btn" onclick="copyLink()">Salin link</button>
        </div>
      </div>
    </div>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
    <script src="/detail.js"></script>

    <script>
      function changeImage(thumbnail) {
        document.querySelectorAll(".thumbnail").forEach((thumb) => {
          thumb.classList.remove("active");
        });
        thumbnail.classList.add("active");
        document.getElementById("main-product-image").src = thumbnail.src;
      }

      function increaseQuantity() {
        const quantityInput = document.getElementById("quantity");
        const currentValue = parseInt(quantityInput.value);
        const maxValue = parseInt(quantityInput.max);

        if (currentValue < maxValue) {
          quantityInput.value = currentValue + 1;
        }
      }

      function decreaseQuantity() {
        const quantityInput = document.getElementById("quantity");
        const currentValue = parseInt(quantityInput.value);
        const minValue = parseInt(quantityInput.min);

        if (currentValue > minValue) {
          quantityInput.value = currentValue - 1;
        }
      }

      function toggleWishlist() {
        const wishlistBtn = document.getElementById("wishlist-btn");
        wishlistBtn.classList.toggle("active");

        if (wishlistBtn.classList.contains("active")) {
          wishlistBtn.innerHTML = '<i class="bi bi-heart-fill"></i>';
        } else {
          wishlistBtn.innerHTML = '<i class="bi bi-heart"></i>';
        }
      }

      function addToCart() {
        const quantity = document.getElementById("quantity").value;
        alert(`Added ${quantity} item(s) to your cart!`);
      }

      function buyNow() {
        const quantity = document.getElementById("quantity").value;
        alert(`Proceeding to checkout with ${quantity} item(s)!`);
      }

      function viewDetails(productName) {
        alert(`Viewing details for ${productName}`);
      }

      function addToCartProduct(productName) {
        alert(`Added ${productName} to your cart!`);
      }

      function toggleBubbleMenu() {
        const bubbleToggle = document.getElementById("bubble-toggle");
        const bubbleItems = document.getElementById("bubble-items");

        // bubbleToggle.classList.toggle("active");
        bubbleItems.classList.toggle("active");
      }

      function openCart() {
        alert("Opening cart...");
        toggleBubbleMenu();
      }

      function openShare() {
        document.getElementById("share-modal").classList.add("active");
        toggleBubbleMenu();
      }

      function closeShare() {
        document.getElementById("share-modal").classList.remove("active");
      }

      function goBack() {
        history.back();
        toggleBubbleMenu();
      }

      function openSearch() {
        document.getElementById("search-modal").classList.add("active");
        document.getElementById("search-input").focus();
        toggleBubbleMenu();
      }

      function closeSearch() {
        document.getElementById("search-modal").classList.remove("active");
      }

      function performSearch(event) {
        event.preventDefault();
        const searchTerm = document.getElementById("search-input").value;
        alert(`Searching for: ${searchTerm}`);
        closeSearch();
      }

      function shareOnFacebook() {
        alert("Sharing on Facebook...");
        closeShare();
      }

      function shareOnTwitter() {
        alert("Sharing on Twitter...");
        closeShare();
      }

      function shareOnWhatsApp() {
        alert("Sharing on WhatsApp...");
        closeShare();
      }

      function copyLink() {
        const shareLink = document.getElementById("share-link");
        shareLink.select();
        document.execCommand("copy");
        alert("Link copied to clipboard!");
        closeShare();
      }

      window.onclick = function (event) {
        const searchModal = document.getElementById("search-modal");
        const shareModal = document.getElementById("share-modal");

        if (event.target === searchModal) {
          closeSearch();
        }

        if (event.target === shareModal) {
          closeShare();
        }
      };
    </script>

    <script>
      const originalTitle = document.title;
      const hiddenTitle = "Sleeping... 😴😴";

      document.addEventListener("visibilitychange", () => {
        if (document.hidden) {
          document.title = hiddenTitle;
        } else {
          document.title = originalTitle;
        }
      });
    </script>
  </body>
</html>
